openapi: 3.0.3
info:
  title: YaHack Kilogram API
  description: –ù–∞–±–æ—Ä –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ Kilogram. <br> 
    –í–ê–ñ–ù–û!! –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –∫–æ –≤—Å–µ–º –º–µ—Ç–æ–¥–∞–º —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–µ–Ω –ø—Ä–µ—Ñ–∏–∫—Å /api/{version}
  version: 1.0.0
  contact:
    name: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ API
    url: https://t.me/gavrilovdash

servers:
  - url: http://127.0.0.1:3000/api/v1
    description: Dev –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  - url: http://team5.ya-itmo.ru/api/v1
    description: Production

tags:
  - name: user
    description: –û–ø–µ—Ä–∞—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
  - name: chat
    description: –û–ø–µ—Ä–∞—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —á–∞—Ç–∞–º–∏
  - name: message
    description: –û–ø–µ—Ä–∞—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
  - name: reaction
    description: –û–ø–µ—Ä–∞—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ä–µ–∞–∫—Ü–∏—è–º–∏

paths:
  /user:
    get:
      tags:
        - user
      summary: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∫–æ–º-–ª–∏–±–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
      description: –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω id, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ id. <br> 
        –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω login, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –ª–æ–≥–∏–Ω—É. <br> 
        –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.
      operationId: getUser
      parameters: 
        - name: id
          description: –ê–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          in: query
          schema: 
            type: integer
        - name: login
          description: –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 
          in: query
          schema: 
            type: string
      responses:
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '404':
          description: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

  /user/avatar:
    get:
      tags:
        - user
      summary: –ü–æ–ª—É—á–∏—Ç—å –∞–≤–∞—Ç–∞—Ä –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–≤–∞—Ç–∞—Ä –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É
      operationId: getUserAvatar
      parameters:
        - name: path
          description: –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É
          in: query
          schema: 
            type: string
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
          content:
            image/png:
              schema:
                type: string
                description: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '404':
          description: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
    post:
      tags:
        - user
      summary: –û–±–Ω–æ–≤–∏—Ç—å –∞–≤–∞—Ç–∞—Ä –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      operationId: updateUserAvatar
      requestBody:
        description: –ù–æ–≤—ã–π –∞–≤–∞—Ç–∞—Ä
        required: true
        content: 
          image/png:
            schema:
              type: string
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

  /chats:
    get:
      tags:
        - chat
      summary: –ü–æ–ª—É—á–∏—Ç—å —á–∞—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ—Å—Ç–æ–∏—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ—Ç—å
      operationId: getChats
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Chat'
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

  /chat:
    get:
      tags:
        - chat
      summary: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —á–∞—Ç–µ –ø–æ id
      operationId: getChatById
      parameters: 
        - name: id
          in: query
          required: true
          schema: 
            type: integer
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Chat'
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —á–∞—Ç—É
        '404':
          description: –ß–∞—Ç —Å —Ç–∞–∫–∏–º id –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
    post:
      tags:
        - chat
      summary: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —á–∞—Ç
      operationId: createChat
      requestBody: 
        description: –ù–æ–≤—ã–π —á–∞—Ç.
        required: true
        content: 
          application/json: 
            schema:
                $ref: '#/components/schemas/ChatRequest'
      responses: 
        '200':
          description: –£—Å–ø–µ—Ö, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π —á–∞—Ç
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Chat'
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
    delete:
      tags:
        - chat
      summary: –£–¥–∞–ª–∏—Ç—å —á–∞—Ç –ø–æ id
      operationId: deleteChatById
      parameters: 
        - name: id
          in: query
          required: true
          schema: 
            type: integer
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤ —É–¥–∞–ª—è—Ç—å —á–∞—Ç
        '404':
          description: –ß–∞—Ç —Å —Ç–∞–∫–∏–º id –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

  /chat/{chatId}/user:
    post:
      tags:
        - chat
      summary: –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–∞—Ç
      operationId: addUserInChat
      parameters: 
        - name: chatId
          in: path
          required: true
          schema: 
            type: integer
        - name: userId
          in: query
          required: true
          schema: 
            type: integer
      responses: 
        '200':
          description: –£—Å–ø–µ—Ö
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —á–∞—Ç—É
        '404':
          description: –ß–∞—Ç –∏–ª–∏ –¥–æ–±–∞–≤–ª—è–µ–º—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

    delete:
      tags:
        - chat
      summary: –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —á–∞—Ç–∞
      operationId: deleteUserFromChat
      parameters: 
        - name: chatId
          in: path
          required: true
          schema: 
            type: integer
        - name: userId
          in: query
          required: true
          schema: 
            type: integer
      responses: 
        '200':
          description: –£—Å–ø–µ—Ö
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —á–∞—Ç—É
        '404':
          description: –ß–∞—Ç –∏–ª–∏ —É–¥–∞–ª—è–µ–º—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

  /chat/avatar:
    get:
      tags:
        - chat
      summary: –ü–æ–ª—É—á–∏—Ç—å –∞–≤–∞—Ç–∞—Ä —á–∞—Ç–∞
      operationId: getChatAvatar
      parameters:
        - name: path
          in: query
          required: true
          schema: 
            type: integer
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
          content:
            image/png:
              schema:
                type: string
                description: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —á–∞—Ç—É
        '404':
          description: –ß–∞—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

    post:
      tags:
        - chat
      summary: –û–±–Ω–æ–≤–∏—Ç—å –∞–≤–∞—Ç–∞—Ä —á–∞—Ç–∞
      operationId: updateChatAvatar
      requestBody:
        description: –ù–æ–≤—ã–π –∞–≤–∞—Ç–∞—Ä —á–∞—Ç–∞
        required: true
        content:
          image/png:
            schema:
              type: string
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —á–∞—Ç—É
        '404':
          description: –ß–∞—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

  /chat/invite-link:
    get:
      tags:
        - chat
      summary: –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –¥–ª—è —á–∞—Ç–∞
      operationId: createInviteLink
      parameters: 
        - name: id
          in: query
          required: true
          schema: 
            type: integer
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
          content:
            text/plain:
              schema:
                type: string
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —á–∞—Ç—É
        '404':
          description: –ß–∞—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

  /chat/invite-link/{link}:
    get:
      tags:
        - chat
      summary: –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞
      operationId: inviteLink
      parameters:
        - name: link
          in: path
          required: true
          schema: 
            type: string
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ —á–∞—Ç
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '404':
          description: –ß–∞—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

    delete:
      tags:
        - chat
      summary: –£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É
      operationId: deleteInviteLink
      parameters:
        - name: link
          in: path
          required: true
          schema: 
            type: string
      responses: 
        '200':
          description: –£—Å–ø–µ—Ö
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '404':
          description: –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

  /message:
    get:
      tags:
        - message
      summary: –ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ –µ–≥–æ id
      operationId: getMessage
      parameters: 
        - name: id
          in: query
          required: true
          schema: 
            type: integer
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ–æ–±—â–µ–Ω–∏—é
        '404':
          description: –°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
    post:
      tags:
        - message
      summary: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
      operationId: createMessage
      requestBody: 
        description: –ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        required: true
        content: 
          application/json: 
            schema:
                $ref: '#/components/schemas/MessageRequest'
      responses:
        '200':
          description: –£—Å–ø–µ—à–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –£ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —á–∞—Ç—É
        '404':
          description: –ß–∞—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
    delete:
      tags:
        - message
      summary: –£–¥–∞–ª–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
      description: –£–¥–∞–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ –µ–≥–æ id
      operationId: deleteMessage
      parameters: 
        - name: id
          in: query
          required: true
          schema: 
            type: integer
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ–æ–±—â–µ–Ω–∏—é
        '404':
          description: –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

  /message/last:
    get:
      tags:
        - message
      summary: –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ
      operationId: getLastMessage
      parameters: 
        - name: chatId
          in: query
          required: true
          schema: 
            type: integer
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —á–∞—Ç—É
        '404':
          description: –ß–∞—Ç –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  
  /message/image:
    get:
      tags:
        - message
      summary: –ü–æ–ª—É—á–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ –ø—É—Ç–∏
      operationId: getImage
      parameters: 
        - name: path
          in: query
          required: true
          schema: 
            type: string
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
          content:
            image/png:
              schema:
                type: string
                description: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω–æ–µ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
            image/jpeg:
              schema:
                type: string
                description: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω–æ–µ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞—Ä—Ç–∏–Ω–∫–µ
        '404':
          description: –ö–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

  /messages:
    get:
      tags:
        - message
      summary: –ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤ —á–∞—Ç–µ
      description: –ï—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å lastMessageId, —Ç–æ –≤–µ—Ä–Ω—É—Ç—Å—è –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –±–æ–ª—å—à–∏–º id
      operationId: getMessages
      parameters: 
        - name: chatId
          in: query
          required: true
          schema: 
            type: integer
        - name: lastMessageId
          in: query
          required: false
          schema:
            type: integer
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Message'
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —á–∞—Ç—É
        '404':
          description: –ß–∞—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

  /reaction:
    get:
      tags:
        - reaction
      summary: –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∞–∫—Ü–∏—é
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∞–∫—Ü–∏—é –ø–æ –µ–µ id
      operationId: getReaction
      parameters: 
        - name: id
          in: query
          required: true
          schema: 
            type: integer
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Reaction'
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ–æ–±—â–µ–Ω–∏—é
        '404':
          description: –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
    post:
      tags:
        - reaction
      summary: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∞–∫—Ü–∏—é
      operationId: createReaction
      requestBody: 
        description: –ù–æ–≤–∞—è —Ä–µ–∞–∫—Ü–∏—è
        required: true
        content: 
          application/json: 
            schema:
                $ref: '#/components/schemas/ReactionRequest'
      responses:
        '200':
          description: –£—Å–ø–µ—à–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—É—é —Ä–µ–∞–∫—Ü–∏—é
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Reaction'
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –£ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ–æ–±—â–µ–Ω–∏—é
        '404':
          description: –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

    delete:
      tags:
        - reaction
      summary: –£–¥–∞–ª–∏—Ç—å —Ä–µ–∞–∫—Ü–∏—é
      description: –£–¥–∞–ª—è–µ—Ç —Ä–µ–∞–∫—Ü–∏—é –ø–æ –µ–µ id
      operationId: deleteReaction
      parameters: 
        - name: id
          in: query
          required: true
          schema: 
            type: integer
      responses: 
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '401':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        '403':
          description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–∞–∫—Ü–∏–∏
        '404':
          description: –†–µ–∞–∫—Ü–∏–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        '500':
          description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

  /reactions:
      get:
        tags:
          - reaction
        summary: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ä–µ–∞–∫—Ü–∏–∏ —Å —Å–æ–æ–±—â–µ–Ω–∏—è
        operationId: getReactions
        parameters: 
          - name: messageId
            in: query
            required: true
            schema: 
              type: integer
        responses: 
          '200':
            description: –£—Å–ø–µ—à–Ω–æ
            content:
              application/json:
                schema:
                  type: array
                  items:
                    $ref: '#/components/schemas/Reaction'
          '400':
            description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
          '401':
            description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
          '403':
            description: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ–æ–±—â–µ–Ω–∏—é
          '404':
            description: –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
          '500':
            description: –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  
  

components:
  schemas:
    User:
      type: object
      description: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
      properties: 
        id:
          description: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          type: integer
          example: 10
        name:
          description: –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          type: string
          example: –î–∞–Ω–∏–ª –ì–∞–≤—Ä–∏–ª–æ–≤
        login:
          description: –°—Ç—Ä–æ–∫–æ–≤—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          type: string
          example: gr33n-m1ner
        avatarPath:
          description: –ü—É—Ç—å –∫ –∞–≤–∞—Ç–∞—Ä—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          type: string
          example: 123.jpeg

    Chat:
      type: object
      description: –ß–∞—Ç <br> –ï—Å–ª–∏ —Ç–∏–ø —á–∞—Ç–∞ - direct, —Ç–æ –ø–æ–ª–µ name –ø—É—Å—Ç–æ, –∞–≤–∞—Ç–∞—Ä–∞ —á–∞—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –≤ users —Ä–æ–≤–Ω–æ 2 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      properties:
        id:
          description: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞
          type: integer
          example: 10
        name:
          description: –ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞
          type: string
          nullable: true
        chatType:
          description: –¢–∏–ø —á–∞—Ç–∞
          type: string
          example: direct
          enum:
            - direct
            - group
        users:
          description: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏-—É—á–∞—Å—Ç–Ω–∏–∫–∏ —á–∞—Ç–∞
          type: array
          items: 
            $ref: '#/components/schemas/User'
        avatarPath:
          description: –ü—É—Ç—å –∫ –∞–≤–∞—Ç–∞—Ä—É —á–∞—Ç–∞
          type: string
          example: 123chat.jpeg
        lastMessage:
          description: –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ
          type: object
          allOf:
            - $ref: '#/components/schemas/Message'

    Message:
      description: –°–æ–æ–±—â–µ–Ω–∏–µ
      type: object
      properties:
        id:
          description: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è
          type: integer
          example: 10
        userId:
          description: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ
          type: integer
          example: 10
        chatId:
          description: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ
          type: integer
          example: 10
        content:
          description: –°—Ç—Ä–æ–∫–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏—è
          type: string
          example: What a wonderful world
        imageContent:
          description: –ü—É—Ç—å –∫ –∫–∞—Ä—Ç–∏–Ω–∫–µ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å
          type: string
          nullable: true
        sendingTime:
          description: –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
          type: string
          format: date-time
        reactions:
          description: –†–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
          type: array
          items: 
            $ref: '#/components/schemas/Reaction'
    
    Reaction:
      description: –†–µ–∞–∫—Ü–∏—è –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
      type: object
      properties:
        id:
          description: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–µ–∞–∫—Ü–∏–∏
          type: integer
          example: 15
        messageId:
          description: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Å—Ç–æ–∏—Ç —Ä–µ–∞–∫—Ü–∏—è
          type: integer
          example: 9
        userId:
          description: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å—Ç–∞–≤–∏–ª —Ä–µ–∞–∫—Ü–∏—é
          type: integer
          example: 1
        reaction:
          description: –†–µ–∞–∫—Ü–∏—è
          type: string
          example: üòá

    ChatRequest:
      description: –ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞
      type: object
      properties:
        name:
          description: –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞
          type: string
          nullable: true
        chatType:
          description: –¢–∏–ø –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞
          type: string
          example: direct
          enum:
            - direct
            - group
        users:
          description: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —á–∞—Ç–∞
          type: array
          items: 
            type: integer
    
    MessageRequest:
      description: –ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
      type: object
      properties:
        chatId:
          description: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ
          type: integer
          example: 10
        content:
          description: –°—Ç—Ä–æ–∫–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏—è
          type: string
          example: What a wonderful world
        imageContent:
          description: –ü—É—Ç—å –∫ –∫–∞—Ä—Ç–∏–Ω–∫–µ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å
          type: string
          nullable: true
        sendingTime:
          description: –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
          type: string
          format: date-time
    
    ReactionRequest:
      description: –ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–∏
      type: object
      properties:
        messageId:
          description: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Å—Ç–æ–∏—Ç —Ä–µ–∞–∫—Ü–∏—è
          type: integer
          example: 9
        reaction:
          description: –†–µ–∞–∫—Ü–∏—è
          type: string
          example: üòá